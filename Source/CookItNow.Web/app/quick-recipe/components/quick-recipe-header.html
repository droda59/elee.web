<template>
	<require from="shared/value-converters/duration-format"></require>
	
    <div class="navbar-fixed">
        <nav role="navigation">
            <div class="nav-wrapper">
                <div class="row">
                    <div class="col left logo">
                        <a class="brand-logo left" href="#">
                            Cook It Now
                        </a>
                    </div>
					<div class="col right info">
						<h3>
							<div class="header-dropdown recipe-info left">
								<a class="dropdown-button ${recipeInfoSectionActive ? 'active' : ''}" click.trigger="toggleMinimizeRecipeInfo()">
									<i class="material-icons left">arrow_drop_down</i>
									${recipe.title}
								</a>
								<div class="dropdown-content" show.bind="recipeInfoSectionActive">
									<div class="row">
										<div>Servings : ${recipe.originalServings}</div>
									</div>
									
									<div class="row">
										<ul>
									        <li repeat.for="duration of recipe.durations">
												<span>${duration.title} : ${duration.time | durationFormat}</span>
									        </li>
										</ul>
									</div>
								</div>
							</div>
						
							<div class="header-dropdown active-timers right">
								<a if.bind="activeTimers.length" click.trigger="toggleMinimizeActiveTimers()" class="dropdown-button ${activeTimersSectionActive ? 'active' : ''} au-animate">
									<i class="material-icons small white-text">av_timer</i>
								</a>
								<div class="dropdown-content" show.bind="activeTimersSectionActive">
									<ul class="collection">
										<li repeat.for="timer of activeTimers" class="collection-item avatar valign-wrapper active-timer au-animate">
											<i class="material-icons circle ${timer.state == 'isAlmostDone' ? 'yellow' : timer.state == 'isAlmosterDone' ? 'red' : 'green'}">av_timer</i>
											<span class="title">${timer.action}</span>
											<p class="${timer.state == 'isAlmostDone' ? 'yellow-text' : timer.state == 'isAlmosterDone' ? 'red-text' : 'green-text'}">${timer.remainingTime} of ${timer.duration | durationFormat}</p>
											<span class="secondary-content">
												<a click.trigger="timer.pause()" show.bind="!timer.isPaused"><i class="material-icons">pause</i></a>
												<a click.trigger="timer.play()" show.bind="timer.isPaused"><i class="material-icons">play_arrow</i></a>
												<a click.trigger="timer.delete()"><i class="material-icons">delete</i></a>
											</span>							
										</li>
									</ul>
								</div>
							</div>
						</h3>
					</div>
                </div>
            </div>
        </nav>
    </div>
</template>