<template>
	<require from="app/website/components/page-header/page-header"></require>

	<nav id="page-header" class="${getCurrentPageName()}">
		<page-header></page-header>
	</nav>

	<div id="welcome-container" class="website-page">
		<section id="search-container" class="website-page__banner">
			<form class="recipe-search white-text container" submit.delegate="searchRecipes()" novalidate>
				<div class="row">
					<div class="col s12 m4 offset-m4">
						<img class="brand-logo" src="/dist/app/shared/assets/images/transparent_file_white.png">
					</div>
				</div>
				<div class="row">
					<h1 class="s12 center">${'home.slogan' | t}</h1>
				</div>
				<div class="row">
					<div class="input-field center col s12 m8 offset-m2 l6 offset-l3">
						<input placeholder="Placeholder" t="[placeholder]home.search" type="text" value.bind="searchTerms">
						<button type="submit" click.delegate="searchRecipes()" class="btn">
							<i class="material-icons">search</i>
						</button>
					</div>
				</div>
			</form>
		</section>

		<section id="results-container" class="section container" show.bind="results">
			<div class="row center underline-title">
				<h3 class="title">${'home.results.title' | t}</h3>
				<hr />
			</div>

			<div class="row" show.bind="results.length">
				<div class="result hoverable col s12 m6 l3" repeat.for="result of results"
					data-aos="fade-up"
					data-aos-offset="-100"
					data-aos-anchor-placement="top-center"
					data-aos-once="true">
					<a click.delegate="goToResult(result.uniqueName)" class="black-text center-align result__thumb--link">
						<div class="result__thumb">
							<img src.bind="result.smallImageUrl" alt="">
						</div>
						<h4 class="result__title">${result.title}</h4>
					</a>
				</div>
			</div>

			<div class="row" show.bind="results.length === 0">
				${'home.results.noResult' | t}
			</div>
		</section>

		<section id="featured-container" class="black white-text center-align">
			<div class="row">
				<h3 class="title">${'home.featuredTitle' | t}</h3>
			</div>
			<div class="row center" class="result__content">
				<div class="col m8 offset-m2">
					<div class="result col s6 m4" repeat.for="result of featuredRecipes">
						<a click.delegate="goToFeatured(result.uniqueName)" class="white-text center-align result__thumb--link">
							<div class="result__thumb">
								<img src.bind="result.smallImageUrl" alt="">
							</div>
							<h4 class="result__title">${result.title}</h4>
						</a>
					</div>
				</div>
			</div>
		</section>

        <section id="other-recipes-container" class="section container">
            <div infinite-scroll="callback.call: getPagedRecipes()">
    			<div class="row center underline-title">
    				<h3 class="title">${'home.otherRecipes' | t}</h3>
    				<hr />
    			</div>

    			<div class="row">
					<!-- <div repeat.for="result of otherRecipes"> -->
						<div repeat.for="result of otherRecipes" class="result hoverable col s12 m6 l3"
							data-aos="fade-up"
							data-aos-offset="-100"
							data-aos-anchor-placement="top-center"
							data-aos-once="true">
							<a click.delegate="goToOther(result.uniqueName)" class="black-text center-align result__thumb--link">
								<div class="result__thumb">
									<img src.bind="result.smallImageUrl" alt="">
								</div>
								<h4 class="result__title">${result.title}</h4>
							</a>
						</div>
						<!-- <div if.bind="$index % 4 === 3" class="divider hide-on-small-only col m12"></div> -->
					<!-- </div> -->
    			</div>
            </div>

			<loading is-loading.bind="loadingPaged" class="loading-container"></loading>
        </section>
	</div>
</template>
