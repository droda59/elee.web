<template>
	<require from="app/website/components/page-header/page-header"></require>
	<!--<require from="app/shared/components/advanced-search/advanced-search"></require>-->

	<nav id="page-header" class="${getCurrentPageName()}">
		<page-header></page-header>
	</nav>

	<div id="welcome-container">
		<section id="search-container">
			<form class="recipe-search white-text container" submit.delegate="searchRecipes()" novalidate>
				<div class="row">
					<div class="col s12 m4 offset-m4">
						<img class="brand-logo" src="/dist/app/shared/assets/images/transparent_file_white.png">
					</div>
				</div>
				<div class="row">
					<h1 class="s12 center">${'home.slogan' | t}</h1>
				</div>
				<div class="row">
					<div class="input-field center col s12 m8 offset-m2 l6 offset-l3">
						<input placeholder="Placeholder" t="[placeholder]home.search" type="text" value.bind="searchTerms">
						<button type="submit" click.delegate="searchRecipes()" class="btn">
							<i class="material-icons">search</i>
						</button>
					</div>
				</div>
				<!--<div class="row advanced-search-container">
					<div class="col s12 m6 offset-m2 l6 offset-l3 center">
						<i class="material-icons icon">expand_more</i> ${ 'home.advancedSearch.title' | t} <i class="material-icons icon">expand_more</i>
					</div>
					<div id="advanced-search" class="col s12 m6 offset-m2 l6 offset-l3">
						<advanced-search containerless time.bind="maximumTime" ingredients.bind="ingredients"></advanced-search>
					</div>
				</div>-->
			</form>
		</section>

		<section id="results-container" class="section container" show.bind="results">
			<div class="row center underline-title">
				<h3 class="title">${'home.results.title' | t}</h3>
				<hr />
			</div>

			<div class="row" show.bind="results.length">
				<div class="row">
					<div class="col s12 m6 l3" repeat.for="result of results">
						<div class="card small sticky-action">
							<div class="card-image waves-effect waves-block waves-light">
								<img class="activator" src.bind="result.smallImageUrl">
							</div>
							<div class="card-content">
								<span class="card-title truncate activator grey-text text-darken-4">${result.title}</span>
							</div>
							<div class="card-action">
								<a href="#" click.trigger="loadRecipe(result.uniqueName)">${'home.cookItNowButton' | t}</a>
							</div>
							<div class="card-reveal">
								<span class="card-title grey-text text-darken-4">${result.title}<i class="material-icons right">close</i></span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row" show.bind="results.length === 0">
				${'home.results.noResult' | t}
			</div>
		</section>

		<section id="featured-container" class="black white-text center-align">
			<h3 class="title">Recettes en Vedette</h3>
			<div class="row short center" class="featured__content">
				<div class="col m8 offset-m2">
					<div class="col s6 m4" repeat.for="featured of featuredRecipes">
						<a click.delegate="goToFeatured(featured.uniqueName)" class="white-text center-align featured__thumb--link">
							<div class="featured__thumb">
								<img src.bind="featured.smallImageUrl" alt="">
							</div>
							<h4 class="featured__title">${featured.title}</h4>
						</a>
					</div>
				</div>
			</div>
		</section>

        <section id="other-recipes-container" class="section container">
            <div infinite-scroll="callback.call: getPagedRecipes()">
    			<div class="row center underline-title">
    				<h3 class="title">These other recipes might interest you</h3>
    				<hr />
    			</div>

    			<div class="row">
    				<div class="row">
    					<div class="col s12 m6 l3" repeat.for="result of otherRecipes">
    						<div class="card small sticky-action">
    							<div class="card-image waves-effect waves-block waves-light">
    								<img class="activator" src.bind="result.smallImageUrl">
    							</div>
    							<div class="card-content">
    								<span class="card-title truncate activator grey-text text-darken-4">${result.title}</span>
    							</div>
    							<div class="card-action">
    								<a href="#" click.trigger="loadRecipe(result.uniqueName)">${'home.cookItNowButton' | t}</a>
    							</div>
    							<div class="card-reveal">
    								<span class="card-title grey-text text-darken-4">${result.title}<i class="material-icons right">close</i></span>
    							</div>
    						</div>
    					</div>
    				</div>
    			</div>
            </div>

			<loading is-loading.bind="loadingPaged"></loading>
        </section>
	</div>
</template>
