<template>
    <div class="edit-backgrounds container">
        <div class="row">
            <div class="col s12">
                <form submit.delegate="saveBackgrounds()" role="form">
                    <section id="backgrounds" class="section">
                        <h2>${ 'backgrounds.pageTitle' | t }</h2>
                        <div class="row">
                            <div repeat.for="backgroundDefinition of backgroundDefinitions" class="col s4">
                                <div class="card">
                                    <div class="card-image">
                                        <img src="dist/app/quick-recipe/follow-recipe/assets/images/backgrounds/${backgroundDefinition.fileName}" alt="">
                                    </div>
                                    <div class="card-content">
                                        <div class="input-field">
                                            <div md-chips="data.bind: backgroundDefinition.tagQualifiers;"></div>
                                        </div>
                                    </div>
                                    <div class="card-action">
                                        <input value.bind="backgroundDefinition.fileName" id="filename-$index" type="text">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <button class="btn waves-effect waves-light" type="submit" name="action">
                        ${ 'backgrounds.saveButton' | t }
                        <i class="material-icons right">send</i>
                    </button>
                </form>
            </div>
        </div>
        <div class="row" show.bind="jsonOutput">
            <div class="col s12">
                <div class="json-output">
                    <pre innerhtml.bind="jsonOutput"></pre>
                </div>
            </div>
        </div>
    </div>
</template>
